# Changelog MySQL Edition

## –í–µ—Ä—Å–∏—è 2.6.1-MySQL

### üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–ó–ê–ú–ï–ù–ê**: SQLite ‚Üí MySQL 8.0+
- ‚úÖ **–ù–û–í–û–ï**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ —Ç–∞–±–ª–∏—Ü
- ‚úÖ **–ù–û–í–û–ï**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏ ACID —Å–≤–æ–π—Å—Ç–≤
- ‚úÖ **–ù–û–í–û–ï**: –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –±–æ–ª—å—à–∏—Ö –Ω–∞–≥—Ä—É–∑–æ–∫
- ‚úÖ **–ù–û–í–û–ï**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ –∏ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ **–û–ë–ù–û–í–õ–ï–ù–û**: `config/config.go` - –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è MySQL
- ‚úÖ **–ù–û–í–û–ï**: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ MySQL
- ‚úÖ **–ù–û–í–û–ï**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

#### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ **–ó–ê–ú–ï–ù–ê**: `gorm.io/driver/sqlite` ‚Üí `gorm.io/driver/mysql`
- ‚úÖ **–î–û–ë–ê–í–õ–ï–ù–û**: `github.com/go-sql-driver/mysql`

### üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã
1. **`go.mod`**
   - –ó–∞–º–µ–Ω–µ–Ω SQLite –¥—Ä–∞–π–≤–µ—Ä –Ω–∞ MySQL –¥—Ä–∞–π–≤–µ—Ä
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `gorm.io/driver/mysql`

2. **`config/config.go`**
   - –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ `GetMySQLHost()`, `GetMySQLPort()`, `GetMySQLUser()`, `GetMySQLPassword()`, `GetMySQLDatabase()`, `GetMySQLDSN()`
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ `GetDBFolderPath()` –∏ `GetDBPath()` –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

3. **`database/db.go`**
   - –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å MySQL
   - –£–¥–∞–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `IsSQLiteDB()`
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `Checkpoint()` –¥–ª—è MySQL
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è MySQL —á–µ—Ä–µ–∑ config –ø–∞–∫–µ—Ç

4. **`web/service/server.go`**
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `ImportDB()` - –æ—Ç–∫–ª—é—á–µ–Ω–∞ –¥–ª—è MySQL
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `GetDb()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏

#### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã
1. **`install_mysql.sh`** - –°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ MySQL
2. **`build_linux.sh`** - –°–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏ –¥–ª—è Linux
3. **`install_ubuntu.sh`** - –ü–æ–ª–Ω—ã–π —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–ª—è Ubuntu
4. **`quick_install.sh`** - –ë—ã—Å—Ç—Ä—ã–π —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏
5. **`test_mysql_connection.sh`** - –°–∫—Ä–∏–ø—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
6. **`Dockerfile.mysql`** - Dockerfile –¥–ª—è MySQL –≤–µ—Ä—Å–∏–∏
7. **`docker-compose.mysql.yml`** - Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
8. **`mysql-init.sql`** - SQL —Å–∫—Ä–∏–ø—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
9. **`README_MYSQL.md`** - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è MySQL –≤–µ—Ä—Å–∏–∏

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **–¢–∏–ø**: SQLite ‚Üí MySQL
- **–ö–æ–¥–∏—Ä–æ–≤–∫–∞**: UTF-8 ‚Üí UTF8MB4
- **–ò–Ω–¥–µ–∫—Å—ã**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤
- **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**: –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ ACID
- **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ**: `mysqldump` –≤–º–µ—Å—Ç–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤

#### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **–ó–∞–ø—Ä–æ—Å—ã**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è MySQL
- **–°–æ–µ–¥–∏–Ω–µ–Ω–∏—è**: Connection pooling
- **–ò–Ω–¥–µ–∫—Å—ã**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –£–ª—É—á—à–µ–Ω–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤

#### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: MySQL native password
- **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ SSL/TLS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**: –ì—Ä–∞–Ω—É–ª—è—Ä–Ω—ã–µ –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### üê≥ Docker –ø–æ–¥–¥–µ—Ä–∂–∫–∞

#### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã
- `Dockerfile.mysql` - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å MySQL –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
- `docker-compose.mysql.yml` - –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- `mysql-init.sql` - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

#### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ MySQL
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –û—Ç–¥–µ–ª—å–Ω—ã–µ volumes –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –∏ –ª–æ–≥–æ–≤
- –°–µ—Ç–µ–≤–∞—è –∏–∑–æ–ª—è—Ü–∏—è

### üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

#### –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ MySQL —Å–µ—Ä–≤–∏—Å–∞
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- –ê–Ω–∞–ª–∏–∑ —Ä–∞–∑–º–µ—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

#### –ö–æ–º–∞–Ω–¥—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
```bash
# –°—Ç–∞—Ç—É—Å MySQL
sudo systemctl status mysql

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è
mysql -u root -p -e "SHOW STATUS LIKE 'Connections';"

# –ü—Ä–æ—Ü–µ—Å—Å—ã
mysql -u root -p -e "SHOW PROCESSLIST;"

# –†–∞–∑–º–µ—Ä –ë–î
mysql -u root -p -e "SELECT table_schema AS 'Database', ROUND(SUM(data_length + index_length) / 1024 / 1024, 2) AS 'Size (MB)' FROM information_schema.tables WHERE table_schema = '3x-ui' GROUP BY table_schema;"
```

### üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è

#### –° SQLite –Ω–∞ MySQL
1. –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –∏–∑ SQLite
2. –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
3. –ò–º–ø–æ—Ä—Ç –≤ MySQL
4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è
- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –º–∏–≥—Ä–∞—Ü–∏–π

### üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

#### –í–∞—Ä–∏–∞–Ω—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏
1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è**: `sudo ./install_ubuntu.sh`
2. **–†—É—á–Ω–∞—è**: `sudo ./install_mysql.sh` + `sudo ./build_linux.sh`
3. **–ë—ã—Å—Ç—Ä–∞—è**: `sudo ./quick_install.sh`
4. **Docker**: `docker-compose -f docker-compose.mysql.yml up -d`

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Ubuntu 20.04+ / Debian 11+
- MySQL 8.0+
- Go 1.24.4+
- –ú–∏–Ω–∏–º—É–º 1GB RAM

### üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

#### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
export XUI_MYSQL_HOST=localhost
export XUI_MYSQL_PORT=3306
export XUI_MYSQL_USER=root
export XUI_MYSQL_PASSWORD=frif2003
export XUI_MYSQL_DATABASE=3x-ui
export XUI_DEBUG=false
export XUI_LOG_LEVEL=info
```

#### –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **–•–æ—Å—Ç**: localhost
- **–ü–æ—Ä—Ç**: 3306
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: root
- **–ü–∞—Ä–æ–ª—å**: frif2003
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: 3x-ui

### üö® –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

#### –û—Ç–∫–ª—é—á–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –ò–º–ø–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–∑–∞–º–µ–Ω–µ–Ω –Ω–∞ mysqldump)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ SQLite —Ñ–∞–π–ª–æ–≤
- –ü—Ä—è–º–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

#### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ mysqldump –¥–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –±—ç–∫–∞–ø—ã
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å MySQL
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### üîÆ –ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ

#### –í–µ—Ä—Å–∏—è 2.7.0
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PostgreSQL
- [ ] –†–µ–ø–ª–∏–∫–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- [ ] API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

#### –í–µ—Ä—Å–∏—è 2.8.0
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ MongoDB
- [ ] –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- [ ] Kubernetes –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- [ ] –û–±–ª–∞—á–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

#### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å SQLite –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
- –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–ª–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –≤ MySQL –≤–µ—Ä—Å–∏–∏

#### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- MySQL –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª—É—á—à—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö –Ω–∞–≥—Ä—É–∑–∫–∞—Ö
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –£–ª—É—á—à–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é

#### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ë–æ–ª–µ–µ –≥—Ä–∞–Ω—É–ª—è—Ä–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ SSL/TLS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –ê—É–¥–∏—Ç –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π 